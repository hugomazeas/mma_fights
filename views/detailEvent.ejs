<%- include('partials/header') %>
    <div class="container mx-auto p-8">
        <div class="flex">
            <div class="half-width m-4 p-10 bg-white rounded shadow-xl">
                <h2 class="text-2xl font-bold mb-4">Event Details <small><strong>#<span id="event_id">
                                <%= event.event_id %>
                            </span></strong></small></h2>
                <div class="mb-4">
                    <p class="text-gray-600">Name: <%= event.name %>
                    </p>
                    <p class="text-gray-600">Date: <%= event.date %>
                    </p>
                    <p class="text-gray-600">Location: <%= event.location %>
                    </p>
                    <p class="text-gray-600">Organization: <%= event.organization %>
                    </p>
                </div>
                <!-- <div class="flex  mb-4">
                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
                    Edit
                </button>
                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
                    Delete
                </button>
            </div> -->
            </div>
            <div class="half-width m-4 p-10 bg-white rounded shadow-xl">
                <p class="text-2xl font-bold mb-4">Add fight to this event</p>
                <p class="hidden" id="organisation_id"></p>
                <div class="">
                    <label class="block text-sm text-gray-00" for="name">Name:</label>
                    <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" type="text" id="organisation_name"
                        name="name" aria-label="Name">
                </div>
                <div class="mt-4">
                    <label class="block text-sm text-gray-00" for="headquarters">Fighter 1:</label>
                    <select id="fighter1" name="dropdown" class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded">
                        <% fighters.forEach(fighter=> { %>
                            <option value="<%= fighter.fighter_id %>">
                                <%= fighter.full_name %>
                            </option>
                            <% }) %>
                    </select>
                </div>
                <div class="mt-4">
                    <label class="block text-sm text-gray-00" for="founded_year">Fighter 2:</label>
                    <select id="fighter2" name="dropdown" class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded">
                        <% fighters.forEach(fighter=> { %>
                            <option value="<%= fighter.fighter_id %>">
                                <%= fighter.full_name %>
                            </option>
                            <% }) %>
                    </select>
                </div>
                <div class="mt-4">
                    <label class="block text-sm text-gray-00" for="founded_year">Division:</label>
                    <select id="weight-division" name="weight-division"
                        class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded">
                        <option value="strawweight">Strawweight</option>
                        <option value="flyweight">Flyweight</option>
                        <option value="bantamweight">Bantamweight</option>
                        <option value="featherweight">Featherweight</option>
                        <option value="lightweight">Lightweight</option>
                        <option value="welterweight">Welterweight</option>
                        <option value="middleweight">Middleweight</option>
                        <option value="light_heavyweight">Light Heavyweight</option>
                        <option value="heavyweight">Heavyweight</option>
                        <option value="super_heavyweight">Super Heavyweight</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label class="block text-sm text-gray-00" for="founded_year">Card Type:</label>
                    <select id="card-type" class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded">
                        <option value="main">Main</option>
                        <option value="co-main">Co-Main</option>
                        <option value="prelim">Prelim</option>
                    </select>
                </div>
                <div class="mt-4">
                    <label class="block text-sm text-gray-00" for="founded_year">Max Round:</label>
                    <select id="card-type" class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded">
                        <option value="3">3</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <div class="mt-6">
                    <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
                        id="btn_add_fight">Add Fight</button>
                    <button class="hidden px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
                        id="btn_edit_organisation">Edit Organisation</button>
                </div>
            </div>
        </div>
        <table class="min-w-full table-auto">
            <thead class="justify-between">
                <tr class="bg-gray-800">
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Fighter 1 (Odds)</span>
                    </th>
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Fighter 2 (Odds)</span>
                    </th>
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Winner</span>
                    </th>
                    <th class="px-4 py-2">
                        <span class="text-gray-300"># Rounds</span>
                    </th>
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Division</span>
                    </th>
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Card type</span>
                    </th>
                    <th class="px-16 py-2">
                        <span class="text-gray-300">Action</span>
                    </th>

                </tr>
            </thead>
            <tbody class="bg-gray-200">
                <% fights_of_event.forEach(fight=> { %>
                    <tr class="bg-white border-4 border-gray-200 pointer"
                        onclick="navigator.go_to('fights', {org_id: '<%= organisation_id %>', event_id: '<%= fight.event_id %>', fight_id: '<%= fight.fight_id %>'})">

                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.fighter1_first_name %>
                                <%= fight.fighter1_last_name %> (<%= fight.fighter1_odds %>)
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.fighter2_first_name %>
                                <%= fight.fighter2_last_name %> (<%= fight.fighter2_odds %>)
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.winner_first_name %>
                                <%= fight.winner_last_name %>
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.fight_round %>
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.division %>
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <%= fight.card_type %>
                        </td>
                        <td class="text-sm text-gray-900 px-6 py-4 whitespace-nowrap">
                            <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded"
                                onclick="deleteFight('<%= event.event_id %>', '<%= fight.fight_id %>')">Delete</button>
                    </tr>
                    <% }); %>
            </tbody>
        </table>
    </div>
    <%- include('partials/footer') %>